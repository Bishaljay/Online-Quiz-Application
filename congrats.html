<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz Completed</title>
  <link rel="stylesheet" href="css/quiz-completed.css">
</head>
<body>
  <div class="container">
    <h1>üéâ Congratulations!</h1>
    <p id="scoreMessage"></p>
    <button class="btn" onclick="location.href='index.html'">Restart Quiz</button>
  </div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const score = params.get('score') || 0;
    const total = params.get('total') || 0;
    const percentage = total > 0 ? ((score / total) * 100).toFixed(1) : 0;

    let feedback =
      percentage >= 80 ? "üåü Excellent work!" :
      percentage >= 50 ? "üëç Good job, keep practicing!" :
      "‚ö° Needs Improvement, try again!";

    document.getElementById('scoreMessage').textContent = 
      `You have completed the quiz.
Your Score: ${score} out of ${total} (${percentage}%)
${feedback}`;
  </script>

  <!-- Confetti library -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.min.js"></script>

  <!-- Confetti effect -->
  <script>
    function launchConfetti() {
      const duration = 3 * 1000; // 3 seconds
      const end = Date.now() + duration;

      (function frame() {
        confetti({
          particleCount: 5,
          angle: 60,
          spread: 55,
          origin: { x: 0 },
        });
        confetti({
          particleCount: 5,
          angle: 120,
          spread: 55,
          origin: { x: 1 },
        });

        if (Date.now() < end) {
          requestAnimationFrame(frame);
        }
      })();
    }

    window.onload = launchConfetti;
  </script>
</body>
</html>
